
This is the repository for the [MELT website](http://melt.cs.umn.edu/).
It contains information about our projects and publications, as well as documentation.

## Editing this content

As a prerequisite, you need Ruby installed, as this site is generated with Jekyll.
The following will locally install its own Bundler, Jekyll, and dependencies.

You should be able to work with this locally by running

```
make env
```

followed by

```
make serve
```

This should bring up a local webserver you can connect to to view the rendered site.
This should let you preview changes before committing them.

## Organization

You'll find the basic MELT pages under [`_pages/`](_pages/).

The [Silver](https://github.com/melt-umn/silver) documentation is found under [`silver/`](silver/), with the exception of the top-level description of Silver, which is found under [`_pages/silver.md`](_pages/silver.md).

## YAML frontmatter

* `layout` sets which template in `_layouts` should get used for this page. (Jekyll itself looks at this one.)
* `title` controls the html page title, and may be used for the title `h1` at the top of a page. (These next two are used by the default layouts/includes.)
* `page_title` overrides `title` for what appears in the `h1` title (replacing `title`, which is still the html `title` tag).
* `menu_title` controls what appears in the menu on the left. (These next two are looked at by the `menu-builder.py` script.)
* `menu_weight` controls the sort order of menu items at the same hierarchical level. It's a numbers.
* `permalink` sets where this file should be generated instead of the usual filename. (Jekyll itself looks at this one.)

**Styling notes:**

* Since the `page_title` or `title` is the usual `h1` heading on a page, usually only `h2` headings should be used in the page contents. (i.e. ` ## Two hashes` in markdown.)
* To make markdown easy to read in diffs, I like to put one whole sentence per line.
* If a page needs a local table of contents, you can add one:
    * Contents
    {:toc}
* There are three acceptable link styles. Links to directories should include the trailing slash.
  1. Full paths from server root: `[link text](/silver/ref/decl/)`.
  2. Short relative paths: `[text](../adjacent-dir/)`.
  3. Jekyll links: `[text]({% link path/from/jekyll/root/to/file %})`. e.g. `{% link _pages/home.md %}` This has the advantage that links will get checked at jekyll build time! Probably this should be preferred


## How does this work?

A Jekyll collection is pretty much just a grouped pile of files.
We have a special collection we just call `pages`.
You can see that it's configured in `_config.yml`, and all its files appear in `_pages`.
Every file in this collection has a `permalink` set, which tells Jekyll where to put it (instead of the usual organization for a collection.)

Under `_data` is a special file generated by our python script that stores the sidebar menu navigation structure.
Jekyll loads things in this directory as accessible data.

Under `_include` are small snippets of HTML, included from other pages.
Under `_layout` are the "top-level" layouts for each page.
Each file with YAML frontmatter (the `---` stuff) gets processed according to its `layout`.
Under `_sass` are modules that get processed into our CSS file (which is under `assets/`).

We chose the name `_scripts` to stash our shell scripts for working on the site.
The name isn't special except that the underscore means Jekyll ignores it automatically.

## Contributing

Feel free to submit pull requests.
We haven't really picked a license (this is just our site), so you must be willing to just hand over copyright.

